C51 COMPILER V9.01   MOTO                                                                  01/01/2017 23:40:19 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MOTO
OBJECT MODULE PLACED IN moto.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE moto.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include "reg52.h"
   2          #include "moto.h"
   3          
   4          #define MAX_SPEED  10;
   5          static void left_wheel_run(bool is_left_run_flag)
   6          {
   7   1        if(is_left_run_flag) 
   8   1        {
   9   2          moto_left_1 = 1;
  10   2        }
  11   1        else
  12   1        {
  13   2          moto_left_1 = 0;
  14   2        }
  15   1        moto_left_2 = ~moto_left_1; 
  16   1      }
  17          
  18          static void right_wheel_run(bool is_right_run_flag)
  19          {
  20   1        if(is_right_run_flag) 
  21   1        {
  22   2          moto_right_1 = 1;
  23   2        }
  24   1        else
  25   1        {
  26   2          moto_right_1 = 0;
  27   2        }
  28   1        moto_right_2 = ~moto_right_1; 
  29   1      }
  30          
  31          static void all_wheel_stop()
  32          {
  33   1       moto_left_1  = 0;  
  34   1       moto_left_2  = 0;
  35   1       moto_right_1 = 0;
  36   1       moto_right_2 = 0;
  37   1      }
  38          
  39          void car_go(int speed)
  40          {
  41   1      int max_speed_use = MAX_SPEED;
  42   1      
  43   1      if (speed > 10) speed = 10;
  44   1      if (speed < 0)  speed =  0;
  45   1      
  46   1      while(max_speed_use--)
  47   1      {
  48   2          speed--;
  49   2          if(speed >=0)
  50   2          {
  51   3            left_wheel_run(1);
  52   3            right_wheel_run(1);
  53   3          }
  54   2          else
  55   2          {
C51 COMPILER V9.01   MOTO                                                                  01/01/2017 23:40:19 PAGE 2   

  56   3            moto_left_1  = 0;  
  57   3            moto_left_2  = 0;
  58   3            moto_right_1 = 0;
  59   3            moto_right_2 = 0;
  60   3          }
  61   2      }
  62   1      }
  63          
  64          void car_stop(void)
  65          {
  66   1      all_wheel_stop();
  67   1      }
  68          
  69          void car_back(int speed)
  70          {
  71   1      int max_speed_use = MAX_SPEED;
  72   1      
  73   1      if (speed > 10) speed = 10;
  74   1      if (speed < 0)  speed =  0;
  75   1      
  76   1      while(max_speed_use--)
  77   1      {
  78   2          speed--;
  79   2          if(speed >=0)
  80   2          {
  81   3            left_wheel_run(0);
  82   3            right_wheel_run(0);
  83   3          }
  84   2          else
  85   2          {
  86   3            moto_left_1  = 0;  
  87   3            moto_left_2  = 0;
  88   3            moto_right_1 = 0;
  89   3            moto_right_2 = 0;
  90   3          }
  91   2      }
  92   1      }
  93          
  94          void car_right(int speed)
  95          {
  96   1      int max_speed_use = MAX_SPEED;
  97   1      
  98   1      if (speed > 10) speed = 10;
  99   1      if (speed < 0)  speed =  0;
 100   1      
 101   1      while(max_speed_use--)
 102   1      {
 103   2          speed--;
 104   2          if(speed >=0)
 105   2          {
 106   3            left_wheel_run(1);
 107   3            right_wheel_run(0);
 108   3          }
 109   2          else
 110   2          {
 111   3            moto_left_1  = 0;  
 112   3            moto_left_2  = 0;
 113   3            moto_right_1 = 0;
 114   3            moto_right_2 = 0;
 115   3          }
 116   2      }
 117   1      }
C51 COMPILER V9.01   MOTO                                                                  01/01/2017 23:40:19 PAGE 3   

 118          
 119          void car_left(int speed)
 120          {
 121   1      int max_speed_use = MAX_SPEED;
 122   1      
 123   1      if (speed > 10) speed = 10;
 124   1      if (speed < 0)  speed =  0;
 125   1      
 126   1      while(max_speed_use--)
 127   1      {
 128   2          speed--;
 129   2          if(speed >=0)
 130   2          {
 131   3            left_wheel_run(0);
 132   3            right_wheel_run(1);
 133   3          }
 134   2          else
 135   2          {
 136   3            moto_left_1  = 0;  
 137   3            moto_left_2  = 0;
 138   3            moto_right_1 = 0;
 139   3            moto_right_2 = 0;
 140   3          }
 141   2      }
 142   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    356    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
